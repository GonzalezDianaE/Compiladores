#!/bin/bash

echo
echo "----------------------------------------------------------------------------"
echo "----------------------------- PASCAL-TDS 2017 ------------------------------"
echo "---------------------- Boselli - Etcharren - Gonzalez ----------------------"
echo "---------------------------- Compiladores (3306) ---------------------------"
echo "----------------------------------------------------------------------------"
echo 
echo "----------------------------------------------------------------------------"
echo "------------------------------ Compiling File ------------------------------"
echo "----------------------------------------------------------------------------" 

# File to compile
if [ "$1" != "" ]; then
    fileName="./"$1
else
    echo "Error: Empty file parameter"
    exit
fi

if [ "$2" != "" ]; then
    if [ "$2" == "-d" ]; then
    	./pascaltds 0 < $fileName
    else
    	echo "Error: Unknow flag $2"
    	exit
    fi
else
    ./pascaltds 1 < "./"$fileName
fi

echo
echo "---------------------------------- DONE ------------------------------------"
echo

exit
